from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/', methods=['GET'])
def home():
    return jsonify({"message": "Welcome to the Flask app on Google Cloud Functions!"})

@app.route('/echo', methods=['POST'])
def echo():
    data = request.get_json()
    return jsonify({"you_sent": data})

@app.route('/status', methods=['GET'])
def status():
    return jsonify({"status": "API is working!"})

# Entry point for Google Cloud Function
def flask_app(request):
    return app(request)


2. Run the app:
functions-framework --target=flask_app --port=8080

3.
5. Test the Deployed API
Use curl to test the deployed API:

Test the Home API:
curl https://REGION-PROJECT_ID.cloudfunctions.net/flask_app
Test the Status API:
curl https://REGION-PROJECT_ID.cloudfunctions.net/flask_app/status
Test the Echo API with POST data:
curl -X POST https://REGION-PROJECT_ID.cloudfunctions.net/flask_app/echo \
    -H "Content-Type: application/json" \
    -d '{"message": "Hello, Cloud Functions!"}'
